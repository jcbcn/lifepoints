var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,l=(t,l)=>{for(var a in l||(l={}))e.call(l,a)&&o(t,a,l[a]);if(n)for(var a of n(l))s.call(l,a)&&o(t,a,l[a]);return t};import{K as a,S as r,i as c,s as i,e as u,j as d,c as h,a as f,l as p,d as m,o as g,f as y,g as v,E as w,L as b,w as x,k,C as E,x as $,D as P,y as B,p as I,r as C,M as O,N as W,O as D,F as V,H as j,P as S,Q as A,R as N,q as L,n as T,T as Y,z as _,G as z,t as U,b as F,U as H,I as R,V as K,W as Z,X as q,Y as M,B as G,h as Q,Z as X}from"../chunks/index-b0b55f0d.js";import{a as J,b as tt,p as et,g as nt,f as st,l as ot,m as lt}from"../chunks/todoistService-66d17c76.js";function at(t,{delay:e=0,duration:n=400,easing:s=a}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:t=>"opacity: "+t*o}}const{window:rt}=N;function ct(t){let e,n,s,o,l,a,r,c,i,k,V,j=t[0].closeButton&&it(t);var S=t[1];return S&&(a=new S({})),{c(){e=u("div"),n=u("div"),s=u("div"),j&&j.c(),o=d(),l=u("div"),a&&I(a.$$.fragment),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0});var r=f(e);n=h(r,"DIV",{class:!0,style:!0});var c=f(n);s=h(c,"DIV",{class:!0,role:!0,"aria-modal":!0,style:!0});var i=f(s);j&&j.l(i),o=p(i),l=h(i,"DIV",{class:!0,style:!0});var u=f(l);a&&L(a.$$.fragment,u),u.forEach(m),i.forEach(m),c.forEach(m),r.forEach(m),this.h()},h(){g(l,"class","content svelte-13z1tgh"),g(l,"style",t[8]),g(s,"class","window svelte-13z1tgh"),g(s,"role","dialog"),g(s,"aria-modal","true"),g(s,"style",t[7]),g(n,"class","window-wrap svelte-13z1tgh"),g(n,"style",t[6]),g(e,"class","bg svelte-13z1tgh"),g(e,"style",t[5])},m(r,c){y(r,e,c),v(e,n),v(n,s),j&&j.m(s,null),v(s,o),v(s,l),a&&C(a,l,null),t[37](s),t[38](n),t[39](e),i=!0,k||(V=[w(s,"introstart",(function(){b(t[12])&&t[12].apply(this,arguments)})),w(s,"outrostart",(function(){b(t[13])&&t[13].apply(this,arguments)})),w(s,"introend",(function(){b(t[14])&&t[14].apply(this,arguments)})),w(s,"outroend",(function(){b(t[15])&&t[15].apply(this,arguments)})),w(e,"click",t[19])],k=!0)},p(r,c){if((t=r)[0].closeButton?j?(j.p(t,c),1&c[0]&&x(j,1)):(j=it(t),j.c(),x(j,1),j.m(s,o)):j&&(E(),$(j,1,1,(()=>{j=null})),P()),S!==(S=t[1])){if(a){E();const t=a;$(t.$$.fragment,1,0,(()=>{B(t,1)})),P()}S?(a=new S({}),I(a.$$.fragment),x(a.$$.fragment,1),C(a,l,null)):a=null}(!i||256&c[0])&&g(l,"style",t[8]),(!i||128&c[0])&&g(s,"style",t[7]),(!i||64&c[0])&&g(n,"style",t[6]),(!i||32&c[0])&&g(e,"style",t[5])},i(n){i||(x(j),a&&x(a.$$.fragment,n),O((()=>{r||(r=W(s,t[11],t[0].transitionWindowProps,!0)),r.run(1)})),O((()=>{c||(c=W(e,t[10],t[0].transitionBgProps,!0)),c.run(1)})),i=!0)},o(n){$(j),a&&$(a.$$.fragment,n),r||(r=W(s,t[11],t[0].transitionWindowProps,!1)),r.run(0),c||(c=W(e,t[10],t[0].transitionBgProps,!1)),c.run(0),i=!1},d(n){n&&m(e),j&&j.d(),a&&B(a),t[37](null),n&&r&&r.end(),t[38](null),t[39](null),n&&c&&c.end(),k=!1,D(V)}}}function it(t){let e,n,s,o,l;const a=[dt,ut],r=[];function c(t,n){return 1&n[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return n=c(t,[-1]),s=r[n]=a[n](t),{c(){s.c(),o=k()},l(t){s.l(t),o=k()},m(t,e){r[n].m(t,e),y(t,o,e),l=!0},p(t,e){let l=n;n=c(t,e),n===l?r[n].p(t,e):(E(),$(r[l],1,1,(()=>{r[l]=null})),P(),s=r[n],s?s.p(t,e):(s=r[n]=a[n](t),s.c()),x(s,1),s.m(o.parentNode,o))},i(t){l||(x(s),l=!0)},o(t){$(s),l=!1},d(t){r[n].d(t),t&&m(o)}}}function ut(t){let e,n,s;return{c(){e=u("button"),this.h()},l(t){e=h(t,"BUTTON",{class:!0,style:!0}),f(e).forEach(m),this.h()},h(){g(e,"class","close svelte-13z1tgh"),g(e,"style",t[9])},m(o,l){y(o,e,l),n||(s=w(e,"click",t[17]),n=!0)},p(t,n){512&n[0]&&g(e,"style",t[9])},i:T,o:T,d(t){t&&m(e),n=!1,s()}}}function dt(t){let e,n,s;var o=t[0].closeButton;function l(t){return{props:{onClose:t[17]}}}return o&&(e=new o(l(t))),{c(){e&&I(e.$$.fragment),n=k()},l(t){e&&L(e.$$.fragment,t),n=k()},m(t,o){e&&C(e,t,o),y(t,n,o),s=!0},p(t,s){if(o!==(o=t[0].closeButton)){if(e){E();const t=e;$(t.$$.fragment,1,0,(()=>{B(t,1)})),P()}o?(e=new o(l(t)),I(e.$$.fragment),x(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}},i(t){s||(e&&x(e.$$.fragment,t),s=!0)},o(t){e&&$(e.$$.fragment,t),s=!1},d(t){t&&m(n),e&&B(e,t)}}}function ht(t){let e,n,s,o,l=t[1]&&ct(t);const a=t[36].default,r=V(a,t,t[35],null);return{c(){l&&l.c(),e=d(),r&&r.c()},l(t){l&&l.l(t),e=p(t),r&&r.l(t)},m(a,c){l&&l.m(a,c),y(a,e,c),r&&r.m(a,c),n=!0,s||(o=w(rt,"keydown",t[18]),s=!0)},p(t,n){t[1]?l?(l.p(t,n),2&n[0]&&x(l,1)):(l=ct(t),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(E(),$(l,1,1,(()=>{l=null})),P()),r&&r.p&&16&n[1]&&j(r,a,t,t[35],n,null,null)},i(t){n||(x(l),x(r,t),n=!0)},o(t){$(l),$(r,t),n=!1},d(t){l&&l.d(t),t&&m(e),r&&r.d(t),s=!1,o()}}}function ft(t,e,n){let{$$slots:s={},$$scope:o}=e;const a=S(),r=_;let{show:c=null}=e,{key:i="simple-modal"}=e,{closeButton:u=!1}=e,{closeOnEsc:d=!1}=e,{closeOnOuterClick:h=!1}=e,{styleBg:f={}}=e,{styleWindowWrap:p={}}=e,{styleWindow:m={}}=e,{styleContent:g={}}=e,{styleCloseButton:y={}}=e,{setContext:v=r}=e,{transitionBg:w=at}=e,{transitionBgProps:b={duration:250}}=e,{transitionWindow:x=w}=e,{transitionWindowProps:k=b}=e;const E={closeButton:u,closeOnEsc:d,closeOnOuterClick:h,styleBg:f,styleWindowWrap:p,styleWindow:m,styleContent:g,styleCloseButton:y,transitionBg:w,transitionBgProps:b,transitionWindow:x,transitionWindowProps:k};let $,P,B,I,C,O,W,D,V,j,N,L,T,z=l({},E),U=null;const F=t=>Object.keys(t).reduce(((e,n)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${t[n]}`),""),H=t=>!!(t&&t.constructor&&t.call&&t.apply),R=()=>{};let K=R,Z=R,q=R,M=R;const G=(t,e={},s={},o={})=>{n(1,U=function(t,e={}){return function(n){return new t(l(l({},n),{props:l(l({},e),n.props)}))}}(t,e)),n(0,z=l(l({},E),s)),n(5,C=F(z.styleBg)),n(6,O=F(z.styleWindowWrap)),n(7,W=F(z.styleWindow)),n(8,D=F(z.styleContent)),n(9,V=F(z.styleCloseButton)),n(10,j=z.transitionBg),n(11,N=z.transitionWindow),X(),n(12,K=t=>{o.onOpen&&o.onOpen(t),a("opening")}),n(13,Z=t=>{o.onClose&&o.onClose(t),a("closing")}),n(14,q=t=>{o.onOpened&&o.onOpened(t),a("opened")}),n(15,M=t=>{o.onClosed&&o.onClosed(t),a("closed")})},Q=(t={})=>{n(13,Z=t.onClose||Z),n(15,M=t.onClosed||M),n(1,U=null),J()},X=()=>{I=window.scrollY,L=document.body.style.position,T=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${I}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},J=()=>{document.body.style.position=L||"",document.body.style.top="",document.body.style.overflow=T||"",window.scrollTo(0,I)};return v(i,{open:G,close:Q}),A((()=>{Q()})),t.$$set=t=>{"show"in t&&n(20,c=t.show),"key"in t&&n(21,i=t.key),"closeButton"in t&&n(22,u=t.closeButton),"closeOnEsc"in t&&n(23,d=t.closeOnEsc),"closeOnOuterClick"in t&&n(24,h=t.closeOnOuterClick),"styleBg"in t&&n(25,f=t.styleBg),"styleWindowWrap"in t&&n(26,p=t.styleWindowWrap),"styleWindow"in t&&n(27,m=t.styleWindow),"styleContent"in t&&n(28,g=t.styleContent),"styleCloseButton"in t&&n(29,y=t.styleCloseButton),"setContext"in t&&n(30,v=t.setContext),"transitionBg"in t&&n(31,w=t.transitionBg),"transitionBgProps"in t&&n(32,b=t.transitionBgProps),"transitionWindow"in t&&n(33,x=t.transitionWindow),"transitionWindowProps"in t&&n(34,k=t.transitionWindowProps),"$$scope"in t&&n(35,o=t.$$scope)},t.$$.update=()=>{1048576&t.$$.dirty[0]&&(H(c)?G(c):Q())},[z,U,$,P,B,C,O,W,D,V,j,N,K,Z,q,M,H,Q,t=>{if(z.closeOnEsc&&U&&"Escape"===t.key&&(t.preventDefault(),Q()),U&&"Tab"===t.key){const e=B.querySelectorAll("*"),n=Array.from(e).filter((t=>t.tabIndex>=0));let s=n.indexOf(document.activeElement);-1===s&&t.shiftKey&&(s=0),s+=n.length+(t.shiftKey?-1:1),s%=n.length,n[s].focus(),t.preventDefault()}},t=>{!z.closeOnOuterClick||t.target!==$&&t.target!==P||(t.preventDefault(),Q())},c,i,u,d,h,f,p,m,g,y,v,w,b,x,k,o,s,function(t){Y[t?"unshift":"push"]((()=>{B=t,n(4,B)}))},function(t){Y[t?"unshift":"push"]((()=>{P=t,n(3,P)}))},function(t){Y[t?"unshift":"push"]((()=>{$=t,n(2,$)}))}]}class pt extends r{constructor(t){super(),c(this,t,ft,ht,i,{show:20,key:21,closeButton:22,closeOnEsc:23,closeOnOuterClick:24,styleBg:25,styleWindowWrap:26,styleWindow:27,styleContent:28,styleCloseButton:29,setContext:30,transitionBg:31,transitionBgProps:32,transitionWindow:33,transitionWindowProps:34},[-1,-1])}}function mt(t){let e,n,s,o,l,a,r,c,i,b,x,k,E,$,P,B,I,C,O,W,V,j,S,A,N,L,Y,_,R,K,Z,q,M,G;return{c(){e=u("div"),n=u("div"),s=u("div"),o=z("svg"),l=z("path"),a=d(),r=u("div"),c=u("h3"),i=U("Please enter your Todoist API token"),b=d(),x=u("div"),k=u("p"),E=U("Lifepoints cannot function without it. You can edit or remove it later from the settings\n\t\t\t\t\tmenu."),$=d(),P=u("div"),B=u("input"),I=d(),C=u("div"),O=u("p"),W=u("span"),V=U("Read our "),j=u("a"),S=U("privacy statement"),A=d(),N=u("p"),L=u("a"),Y=U("Where can I find it?"),_=d(),R=u("div"),K=u("button"),Z=U("Save"),this.h()},l(t){e=h(t,"DIV",{class:!0});var u=f(e);n=h(u,"DIV",{class:!0});var d=f(n);s=h(d,"DIV",{class:!0});var g=f(s);o=h(g,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0,"aria-hidden":!0},1);var y=f(o);l=h(y,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0},1),f(l).forEach(m),y.forEach(m),g.forEach(m),a=p(d),r=h(d,"DIV",{class:!0});var v=f(r);c=h(v,"H3",{class:!0,id:!0});var w=f(c);i=F(w,"Please enter your Todoist API token"),w.forEach(m),b=p(v),x=h(v,"DIV",{class:!0});var D=f(x);k=h(D,"P",{class:!0});var T=f(k);E=F(T,"Lifepoints cannot function without it. You can edit or remove it later from the settings\n\t\t\t\t\tmenu."),T.forEach(m),$=p(D),P=h(D,"DIV",{class:!0});var z=f(P);B=h(z,"INPUT",{type:!0,name:!0,id:!0,autocomplete:!0,class:!0}),z.forEach(m),I=p(D),C=h(D,"DIV",{class:!0});var U=f(C);O=h(U,"P",{class:!0});var H=f(O);W=h(H,"SPAN",{class:!0});var q=f(W);V=F(q,"Read our "),q.forEach(m),j=h(H,"A",{target:!0,href:!0});var M=f(j);S=F(M,"privacy statement"),M.forEach(m),H.forEach(m),A=p(U),N=h(U,"P",{class:!0});var G=f(N);L=h(G,"A",{href:!0});var Q=f(L);Y=F(Q,"Where can I find it?"),Q.forEach(m),G.forEach(m),U.forEach(m),D.forEach(m),v.forEach(m),d.forEach(m),u.forEach(m),_=p(t),R=h(t,"DIV",{class:!0});var X=f(R);K=h(X,"BUTTON",{disabled:!0,type:!0,class:!0});var J=f(K);Z=F(J,"Save"),J.forEach(m),X.forEach(m),this.h()},h(){g(l,"stroke-linecap","round"),g(l,"stroke-linejoin","round"),g(l,"stroke-width","2"),g(l,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),g(o,"class","h-6 w-6 text-yellow-600"),g(o,"xmlns","http://www.w3.org/2000/svg"),g(o,"fill","none"),g(o,"viewBox","0 0 24 24"),g(o,"stroke","currentColor"),g(o,"aria-hidden","true"),g(s,"class","mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"),g(c,"class","text-lg leading-6 font-medium text-gray-900"),g(c,"id","modal-title"),g(k,"class","mb-2"),g(B,"type","text"),g(B,"name","first_name"),g(B,"id","first_name"),g(B,"autocomplete","given-name"),g(B,"class","mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"),g(P,"class","col-span-6 sm:col-span-3"),g(W,"class","text-gray-500"),g(j,"target","_blank"),g(j,"href","https://raw.githubusercontent.com/jcbcn/lifepoints/main/PRIVACY"),g(O,"class","text-sm float-right"),g(L,"href",""),g(N,"class","text-sm float-left"),g(C,"class","mt-1"),g(x,"class","mt-2"),g(r,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"),g(n,"class","sm:flex sm:items-start"),g(e,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),K.disabled=q=!t[0],g(K,"type","button"),g(K,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm"),g(R,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse")},m(u,d){y(u,e,d),v(e,n),v(n,s),v(s,o),v(o,l),v(n,a),v(n,r),v(r,c),v(c,i),v(r,b),v(r,x),v(x,k),v(k,E),v(x,$),v(x,P),v(P,B),H(B,t[0]),v(x,I),v(x,C),v(C,O),v(O,W),v(W,V),v(O,j),v(j,S),v(C,A),v(C,N),v(N,L),v(L,Y),y(u,_,d),y(u,R,d),v(R,K),v(K,Z),M||(G=[w(B,"input",t[2]),w(K,"click",t[3])],M=!0)},p(t,[e]){1&e&&B.value!==t[0]&&H(B,t[0]),1&e&&q!==(q=!t[0])&&(K.disabled=q)},i:T,o:T,d(t){t&&m(e),t&&m(_),t&&m(R),M=!1,D(G)}}}function gt(t,e,n){let s;R(t,J,(t=>n(4,s=t)));const{close:o}=K("simple-modal");let l="";function a(){Z(J,s=l,s),localStorage.setItem("authToken",l),o()}return[l,a,function(){l=this.value,n(0,l)},()=>a()]}class yt extends r{constructor(t){super(),c(this,t,gt,mt,i,{})}}function vt(t,e,n){const s=t.slice();return s[15]=e[n],s}function wt(t,e,n){const s=t.slice();return s[18]=e[n],s}function bt(t,e,n){const s=t.slice();return s[15]=e[n],s}function xt(t,e,n){const s=t.slice();return s[18]=e[n],s}function kt(t){let e,n;return{c(){e=u("p"),n=U("Failed to retrieve tasks!")},l(t){e=h(t,"P",{});var s=f(e);n=F(s,"Failed to retrieve tasks!"),s.forEach(m)},m(t,s){y(t,e,s),v(e,n)},p:T,d(t){t&&m(e)}}}function Et(t){let e,n=t[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=Pt(bt(t,n,o));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=k()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=k()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);y(t,e,n)},p(t,o){if(34&o){let l;for(n=t[1],l=0;l<n.length;l+=1){const a=bt(t,n,l);s[l]?s[l].p(a,o):(s[l]=Pt(a),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(t){X(s,t),t&&m(e)}}}function $t(t){let e,n,s,o=ot[t[18]]+"";return{c(){e=u("span"),n=U(o),s=U(" LP"),this.h()},l(t){e=h(t,"SPAN",{class:!0});var l=f(e);n=F(l,o),s=F(l," LP"),l.forEach(m),this.h()},h(){g(e,"class","float-right inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2")},m(t,o){y(t,e,o),v(e,n),v(e,s)},p(t,e){2&e&&o!==(o=ot[t[18]]+"")&&Q(n,o)},d(t){t&&m(e)}}}function Pt(t){let e,n,s,o,l,a,r,c,i,b=t[15].content+"",x=t[15].label_ids,k=[];for(let u=0;u<x.length;u+=1)k[u]=$t(xt(t,x,u));function E(){return t[7](t[15])}return{c(){e=u("div"),n=u("div"),s=u("div"),o=d(),l=U(b),a=d();for(let t=0;t<k.length;t+=1)k[t].c();r=d(),this.h()},l(t){e=h(t,"DIV",{class:!0});var c=f(e);n=h(c,"DIV",{class:!0});var i=f(n);s=h(i,"DIV",{class:!0}),f(s).forEach(m),i.forEach(m),o=p(c),l=F(c,b),a=p(c);for(let e=0;e<k.length;e+=1)k[e].l(c);r=p(c),c.forEach(m),this.h()},h(){g(s,"class","radio-button svelte-u8ndhj"),g(n,"class","radio-button-container mr-2 svelte-u8ndhj"),g(e,"class","task-list-item w-full border-b-2 border-gray-200 px-2 py-3 hover:bg-gray-50 svelte-u8ndhj")},m(t,u){y(t,e,u),v(e,n),v(n,s),v(e,o),v(e,l),v(e,a);for(let n=0;n<k.length;n+=1)k[n].m(e,null);v(e,r),c||(i=w(e,"click",E),c=!0)},p(n,s){if(t=n,2&s&&b!==(b=t[15].content+"")&&Q(l,b),2&s){let n;for(x=t[15].label_ids,n=0;n<x.length;n+=1){const o=xt(t,x,n);k[n]?k[n].p(o,s):(k[n]=$t(o),k[n].c(),k[n].m(e,r))}for(;n<k.length;n+=1)k[n].d(1);k.length=x.length}},d(t){t&&m(e),X(k,t),c=!1,i()}}}function Bt(t){let e,n,s;return{c(){e=u("div"),n=u("span"),s=U("Loading tasks..."),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=f(e);n=h(o,"SPAN",{class:!0});var l=f(n);s=F(l,"Loading tasks..."),l.forEach(m),o.forEach(m),this.h()},h(){g(n,"class","text-sm text-gray-300"),g(e,"class","w-full p-2 text-center")},m(t,o){y(t,e,o),v(e,n),v(n,s)},p:T,d(t){t&&m(e)}}}function It(t){let e,n,s;return{c(){e=u("div"),n=u("span"),s=U("You don't have any tasks"),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=f(e);n=h(o,"SPAN",{class:!0});var l=f(n);s=F(l,"You don't have any tasks"),l.forEach(m),o.forEach(m),this.h()},h(){g(n,"class","text-sm text-gray-300"),g(e,"class","w-full p-2 text-center")},m(t,o){y(t,e,o),v(e,n),v(n,s)},d(t){t&&m(e)}}}function Ct(t){let e,n;return{c(){e=u("p"),n=U("Failed to retrieve tasks!")},l(t){e=h(t,"P",{});var s=f(e);n=F(s,"Failed to retrieve tasks!"),s.forEach(m)},m(t,s){y(t,e,s),v(e,n)},p:T,d(t){t&&m(e)}}}function Ot(t){let e,n=t[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=Dt(vt(t,n,o));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=k()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=k()},m(t,n){for(let e=0;e<s.length;e+=1)s[e].m(t,n);y(t,e,n)},p(t,o){if(36&o){let l;for(n=t[2],l=0;l<n.length;l+=1){const a=vt(t,n,l);s[l]?s[l].p(a,o):(s[l]=Dt(a),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(t){X(s,t),t&&m(e)}}}function Wt(t){let e,n,s,o=ot[t[18]]+"";return{c(){e=u("span"),n=U(o),s=U(" LP"),this.h()},l(t){e=h(t,"SPAN",{class:!0});var l=f(e);n=F(l,o),s=F(l," LP"),l.forEach(m),this.h()},h(){g(e,"class","float-right inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2")},m(t,o){y(t,e,o),v(e,n),v(e,s)},p(t,e){4&e&&o!==(o=ot[t[18]]+"")&&Q(n,o)},d(t){t&&m(e)}}}function Dt(t){let e,n,s,o,l,a,r,c,i,b=t[15].content+"",x=t[15].label_ids,k=[];for(let u=0;u<x.length;u+=1)k[u]=Wt(wt(t,x,u));function E(){return t[8](t[15])}return{c(){e=u("div"),n=u("div"),s=u("div"),o=d(),l=U(b),a=d();for(let t=0;t<k.length;t+=1)k[t].c();r=d(),this.h()},l(t){e=h(t,"DIV",{class:!0});var c=f(e);n=h(c,"DIV",{class:!0});var i=f(n);s=h(i,"DIV",{class:!0}),f(s).forEach(m),i.forEach(m),o=p(c),l=F(c,b),a=p(c);for(let e=0;e<k.length;e+=1)k[e].l(c);r=p(c),c.forEach(m),this.h()},h(){g(s,"class","radio-button svelte-u8ndhj"),g(n,"class","radio-button-container mr-2 svelte-u8ndhj"),g(e,"class","task-list-item w-full border-b-2 border-gray-200 px-2 py-3 hover:bg-gray-50 svelte-u8ndhj")},m(t,u){y(t,e,u),v(e,n),v(n,s),v(e,o),v(e,l),v(e,a);for(let n=0;n<k.length;n+=1)k[n].m(e,null);v(e,r),c||(i=w(e,"click",E),c=!0)},p(n,s){if(t=n,4&s&&b!==(b=t[15].content+"")&&Q(l,b),4&s){let n;for(x=t[15].label_ids,n=0;n<x.length;n+=1){const o=wt(t,x,n);k[n]?k[n].p(o,s):(k[n]=Wt(o),k[n].c(),k[n].m(e,r))}for(;n<k.length;n+=1)k[n].d(1);k.length=x.length}},d(t){t&&m(e),X(k,t),c=!1,i()}}}function Vt(t){let e,n,s;return{c(){e=u("div"),n=u("span"),s=U("Loading tasks..."),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=f(e);n=h(o,"SPAN",{class:!0});var l=f(n);s=F(l,"Loading tasks..."),l.forEach(m),o.forEach(m),this.h()},h(){g(n,"class","text-sm text-gray-300"),g(e,"class","w-full p-2 text-center")},m(t,o){y(t,e,o),v(e,n),v(n,s)},p:T,d(t){t&&m(e)}}}function jt(t){let e,n,s;return{c(){e=u("div"),n=u("span"),s=U("You don't have any upcoming tasks"),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=f(e);n=h(o,"SPAN",{class:!0});var l=f(n);s=F(l,"You don't have any upcoming tasks"),l.forEach(m),o.forEach(m),this.h()},h(){g(n,"class","text-sm text-gray-300"),g(e,"class","w-full p-2 text-center")},m(t,o){y(t,e,o),v(e,n),v(n,s)},d(t){t&&m(e)}}}function St(t){let e,n,s,o,l,a,r,c,i,w,b,k,E,P,O,W,D,V,j,S,A,N,T,Y,_,z,H,R;document.title=e=t[3]+" Lifepoints",s=new pt({props:{show:t[4]}});let K={ctx:t,current:null,token:null,hasCatch:!0,pending:Bt,then:Et,catch:kt,value:14,error:21};q(b=t[0],K);let Z=0==t[1].length&&It(),G={ctx:t,current:null,token:null,hasCatch:!0,pending:Vt,then:Ot,catch:Ct,value:14,error:21};q(V=t[0],G);let Q=0==t[2].length&&jt();return{c(){n=d(),I(s.$$.fragment),o=d(),l=u("div"),a=u("h1"),r=U("Today"),c=d(),i=u("div"),w=u("div"),K.block.c(),k=d(),Z&&Z.c(),E=d(),P=u("h1"),O=U("Overdue"),W=d(),D=u("div"),G.block.c(),j=d(),Q&&Q.c(),S=d(),A=u("h1"),N=U("Upcoming"),T=d(),Y=u("div"),_=u("div"),z=u("span"),H=U("You don't have any upcoming tasks"),this.h()},l(t){M('[data-svelte="svelte-1a238no"]',document.head).forEach(m),n=p(t),L(s.$$.fragment,t),o=p(t),l=h(t,"DIV",{class:!0});var e=f(l);a=h(e,"H1",{class:!0});var u=f(a);r=F(u,"Today"),u.forEach(m),c=p(e),i=h(e,"DIV",{class:!0});var d=f(i);w=h(d,"DIV",{class:!0});var g=f(w);K.block.l(g),k=p(g),Z&&Z.l(g),g.forEach(m),d.forEach(m),E=p(e),P=h(e,"H1",{class:!0});var y=f(P);O=F(y,"Overdue"),y.forEach(m),W=p(e),D=h(e,"DIV",{class:!0});var v=f(D);G.block.l(v),j=p(v),Q&&Q.l(v),v.forEach(m),S=p(e),A=h(e,"H1",{class:!0});var b=f(A);N=F(b,"Upcoming"),b.forEach(m),T=p(e),Y=h(e,"DIV",{class:!0});var x=f(Y);_=h(x,"DIV",{class:!0});var $=f(_);z=h($,"SPAN",{class:!0});var B=f(z);H=F(B,"You don't have any upcoming tasks"),B.forEach(m),$.forEach(m),x.forEach(m),e.forEach(m),this.h()},h(){g(a,"class","text-2xl font-bold text-gray-900"),g(w,"class","rounded-lg"),g(i,"class","py-6 mb-6"),g(P,"class","text-2xl font-bold text-gray-900"),g(D,"class","py-6 mb-6"),g(A,"class","text-2xl font-bold text-gray-900"),g(z,"class","text-sm text-gray-300"),g(_,"class","w-full p-2 text-center"),g(Y,"class","px-4 py-6 sm:px-0"),g(l,"class","max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8")},m(t,e){y(t,n,e),C(s,t,e),y(t,o,e),y(t,l,e),v(l,a),v(a,r),v(l,c),v(l,i),v(i,w),K.block.m(w,K.anchor=null),K.mount=()=>w,K.anchor=k,v(w,k),Z&&Z.m(w,null),v(l,E),v(l,P),v(P,O),v(l,W),v(l,D),G.block.m(D,G.anchor=null),G.mount=()=>D,G.anchor=j,v(D,j),Q&&Q.m(D,null),v(l,S),v(l,A),v(A,N),v(l,T),v(l,Y),v(Y,_),v(_,z),v(z,H),R=!0},p(n,[o]){t=n,(!R||8&o)&&e!==(e=t[3]+" Lifepoints")&&(document.title=e);const l={};if(16&o&&(l.show=t[4]),s.$set(l),K.ctx=t,1&o&&b!==(b=t[0])&&q(b,K));else{const e=t.slice();e[14]=e[21]=K.resolved,K.block.p(e,o)}if(0==t[1].length?Z||(Z=It(),Z.c(),Z.m(w,null)):Z&&(Z.d(1),Z=null),G.ctx=t,1&o&&V!==(V=t[0])&&q(V,G));else{const e=t.slice();e[14]=e[21]=G.resolved,G.block.p(e,o)}0==t[2].length?Q||(Q=jt(),Q.c(),Q.m(D,null)):Q&&(Q.d(1),Q=null)},i(t){R||(x(s.$$.fragment,t),R=!0)},o(t){$(s.$$.fragment,t),R=!1},d(t){t&&m(n),B(s,t),t&&m(o),t&&m(l),K.block.d(),K.token=null,K=null,Z&&Z.d(),G.block.d(),G.token=null,G=null,Q&&Q.d()}}}function At(t,e,n){let s,o,l,a,r;R(t,J,(t=>n(9,l=t))),R(t,et,(t=>n(3,a=t))),R(t,lt,(t=>n(4,r=t)));var c=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,l){function a(t){try{c(s.next(t))}catch(e){l(e)}}function r(t){try{c(s.throw(t))}catch(e){l(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}c((s=s.apply(t,e||[])).next())}))};const i=(new Date).toISOString().split("T")[0];let u=Promise.resolve([]),d=[];function h(t){return c(this,void 0,void 0,(function*(){try{yield tt(t),t.done=!0,n(6,d=d.filter((t=>!t.done))),Z(et,a=yield nt(),a)}catch(e){alert("failed to complete task")}}))}function f(){return c(this,void 0,void 0,(function*(){l?(n(0,u=st()),u.then((t=>{n(6,d=t)})),Z(et,a=yield nt(),a)):l&&""!=l||lt.set(yt)}))}G((()=>c(void 0,void 0,void 0,(function*(){let t=localStorage.getItem("authToken");t&&Z(J,l=t,l),yield f(),J.subscribe((()=>c(void 0,void 0,void 0,(function*(){yield f()}))))}))));return t.$$.update=()=>{64&t.$$.dirty&&n(1,s=d.filter((t=>t.due.date==i))),64&t.$$.dirty&&n(2,o=d.filter((t=>t.due.date!=i)))},[u,s,o,a,r,h,d,t=>h(t),t=>h(t)]}export default class extends r{constructor(t){super(),c(this,t,At,St,i,{})}}
