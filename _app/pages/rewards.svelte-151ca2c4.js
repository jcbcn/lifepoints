var Ce=Object.defineProperty,Ie=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var ue=(a,e,s)=>e in a?Ce(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,H=(a,e)=>{for(var s in e||(e={}))Pe.call(e,s)&&ue(a,s,e[s]);if(de)for(var s of de(e))Te.call(e,s)&&ue(a,s,e[s]);return a},he=(a,e)=>Ie(a,Ve(e));import{S as fe,i as me,s as pe,e as _,t as E,k as I,c as v,a as g,g as D,d,n as V,b as f,f as P,E as i,F as K,h as W,G as O,Z as Re,O as U,D as Me,U as B,Q as _e,j as Se,m as je,o as Ae,T as Le,x as Ne,u as Ye,v as Fe,A as He,V as ve,l as ge}from"../chunks/vendor-dad5e567.js";import{p as q,i as Oe,g as be,d as Ue,m as G,b as X,l as we,e as Be}from"../chunks/todoistService-d3c73e95.js";import{M as qe,T as Ge}from"../chunks/TokenCheck-0c7ab2e5.js";function Qe(a){let e,s,t,l,r,n,m,p,y,b,x,o,w=a[2]()+"",c,h,u,k,M,L,R,T,Q,N,Z,$,S,z,J,ee;return{c(){e=_("div"),s=_("div"),t=_("div"),l=_("h3"),r=E("Redeem Reward"),n=I(),m=_("div"),p=_("p"),y=E(`You have two attempts at rolling the following number on a dice to successfully get your
					reward.`),b=I(),x=_("div"),o=_("h1"),c=E(w),h=I(),u=_("div"),k=_("p"),M=E(`Are you sure you want to redeem this reward? You should redeem this reward regardless of
					the outcome of the dice rolls.`),L=I(),R=_("div"),T=_("button"),Q=E("Redeem (Cost: "),N=E(a[0]),Z=E(")"),$=I(),S=_("button"),z=E("Cancel"),this.h()},l(C){e=v(C,"DIV",{class:!0});var j=g(e);s=v(j,"DIV",{class:!0});var te=g(s);t=v(te,"DIV",{class:!0});var A=g(t);l=v(A,"H3",{class:!0,id:!0});var se=g(l);r=D(se,"Redeem Reward"),se.forEach(d),n=V(A),m=v(A,"DIV",{class:!0});var le=g(m);p=v(le,"P",{class:!0});var ae=g(p);y=D(ae,`You have two attempts at rolling the following number on a dice to successfully get your
					reward.`),ae.forEach(d),le.forEach(d),b=V(A),x=v(A,"DIV",{class:!0});var oe=g(x);o=v(oe,"H1",{class:!0});var re=g(o);c=D(re,w),re.forEach(d),oe.forEach(d),h=V(A),u=v(A,"DIV",{class:!0});var ne=g(u);k=v(ne,"P",{class:!0});var ie=g(k);M=D(ie,`Are you sure you want to redeem this reward? You should redeem this reward regardless of
					the outcome of the dice rolls.`),ie.forEach(d),ne.forEach(d),A.forEach(d),te.forEach(d),j.forEach(d),L=V(C),R=v(C,"DIV",{class:!0});var Y=g(R);T=v(Y,"BUTTON",{type:!0,class:!0});var F=g(T);Q=D(F,"Redeem (Cost: "),N=D(F,a[0]),Z=D(F,")"),F.forEach(d),$=V(Y),S=v(Y,"BUTTON",{type:!0,class:!0});var ce=g(S);z=D(ce,"Cancel"),ce.forEach(d),Y.forEach(d),this.h()},h(){f(l,"class","text-lg leading-6 font-medium text-gray-900"),f(l,"id","modal-title"),f(p,"class","text-sm text-gray-500"),f(m,"class","mt-2"),f(o,"class","text-lg leading-6 font-medium text-gray-900"),f(x,"class","mx-auto flex-shrink-0 flex content-center items-center justify-center h-12 w-12 rounded-full bg-green-100 m-4"),f(k,"class","text-sm text-gray-500"),f(u,"class","mt-2"),f(t,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),f(s,"class","sm:flex sm:items-start"),f(e,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),f(T,"type","button"),f(T,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"),f(S,"type","button"),f(S,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),f(R,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse")},m(C,j){P(C,e,j),i(e,s),i(s,t),i(t,l),i(l,r),i(t,n),i(t,m),i(m,p),i(p,y),i(t,b),i(t,x),i(x,o),i(o,c),i(t,h),i(t,u),i(u,k),i(k,M),P(C,L,j),P(C,R,j),i(R,T),i(T,Q),i(T,N),i(T,Z),i(R,$),i(R,S),i(S,z),J||(ee=[K(T,"click",a[4]),K(S,"click",a[5])],J=!0)},p(C,[j]){j&1&&W(N,C[0])},i:O,o:O,d(C){C&&d(e),C&&d(L),C&&d(R),J=!1,Re(ee)}}}function Ze(a,e,s){let t;U(a,q,b=>s(6,t=b));const{close:l}=Me("simple-modal");let{pointCost:r=0}=e;const n=()=>{let b=Math.ceil(1),x=Math.floor(6);return Math.floor(Math.random()*(x-b+1)+b)},m=async()=>{await Oe(-r),l(),B(q,t=await be(),t)},p=()=>m(),y=()=>l();return a.$$set=b=>{"pointCost"in b&&s(0,r=b.pointCost)},[r,l,n,m,p,y]}class $e extends fe{constructor(e){super();me(this,e,Ze,Qe,pe,{pointCost:0})}}function xe(a,e,s){const t=a.slice();return t[10]=e[s],t}function ye(a,e,s){const t=a.slice();return t[13]=e[s],t}function ze(a){let e,s;return{c(){e=_("p"),s=E("Failed to retrieve rewards!")},l(t){e=v(t,"P",{});var l=g(e);s=D(l,"Failed to retrieve rewards!"),l.forEach(d)},m(t,l){P(t,e,l),i(e,s)},p:O,d(t){t&&d(e)}}}function Je(a){let e,s=a[1],t=[];for(let l=0;l<s.length;l+=1)t[l]=Ee(xe(a,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=ge()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=ge()},m(l,r){for(let n=0;n<t.length;n+=1)t[n].m(l,r);P(l,e,r)},p(l,r){if(r&10){s=l[1];let n;for(n=0;n<s.length;n+=1){const m=xe(l,s,n);t[n]?t[n].p(m,r):(t[n]=Ee(m),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=s.length}},d(l){ve(t,l),l&&d(e)}}}function ke(a){let e,s=we[a[13]]+"",t,l;return{c(){e=_("span"),t=E(s),l=E(" LP"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var n=g(e);t=D(n,s),l=D(n," LP"),n.forEach(d),this.h()},h(){f(e,"class","float-right inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2")},m(r,n){P(r,e,n),i(e,t),i(e,l)},p(r,n){n&2&&s!==(s=we[r[13]]+"")&&W(t,s)},d(r){r&&d(e)}}}function Ee(a){let e,s,t,l,r=a[10].content+"",n,m,p,y,b,x=a[10].label_ids,o=[];for(let c=0;c<x.length;c+=1)o[c]=ke(ye(a,x,c));function w(){return a[4](a[10])}return{c(){e=_("div"),s=_("div"),t=_("div"),l=I(),n=E(r),m=I();for(let c=0;c<o.length;c+=1)o[c].c();p=I(),this.h()},l(c){e=v(c,"DIV",{class:!0});var h=g(e);s=v(h,"DIV",{class:!0});var u=g(s);t=v(u,"DIV",{class:!0}),g(t).forEach(d),u.forEach(d),l=V(h),n=D(h,r),m=V(h);for(let k=0;k<o.length;k+=1)o[k].l(h);p=V(h),h.forEach(d),this.h()},h(){f(t,"class","radio-button"),f(s,"class","radio-button-container mr-2"),f(e,"class","task-list-item w-full border-b-2 border-gray-200 px-2 py-3 hover:bg-gray-50")},m(c,h){P(c,e,h),i(e,s),i(s,t),i(e,l),i(e,n),i(e,m);for(let u=0;u<o.length;u+=1)o[u].m(e,null);i(e,p),y||(b=K(e,"click",w),y=!0)},p(c,h){if(a=c,h&2&&r!==(r=a[10].content+"")&&W(n,r),h&2){x=a[10].label_ids;let u;for(u=0;u<x.length;u+=1){const k=ye(a,x,u);o[u]?o[u].p(k,h):(o[u]=ke(k),o[u].c(),o[u].m(e,p))}for(;u<o.length;u+=1)o[u].d(1);o.length=x.length}},d(c){c&&d(e),ve(o,c),y=!1,b()}}}function Ke(a){let e,s,t;return{c(){e=_("div"),s=_("span"),t=E("Loading tasks..."),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=g(e);s=v(r,"SPAN",{class:!0});var n=g(s);t=D(n,"Loading tasks..."),n.forEach(d),r.forEach(d),this.h()},h(){f(s,"class","text-sm text-gray-300"),f(e,"class","w-full p-2 text-center")},m(l,r){P(l,e,r),i(e,s),i(s,t)},p:O,d(l){l&&d(e)}}}function De(a){let e,s,t;return{c(){e=_("div"),s=_("span"),t=E("You don't have any rewards"),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=g(e);s=v(r,"SPAN",{class:!0});var n=g(s);t=D(n,"You don't have any rewards"),n.forEach(d),r.forEach(d),this.h()},h(){f(s,"class","text-sm text-gray-300"),f(e,"class","w-full p-2 text-center")},m(l,r){P(l,e,r),i(e,s),i(s,t)},d(l){l&&d(e)}}}function We(a){let e,s,t,l,r,n,m,p,y,b,x;e=new qe({props:{show:a[2]}});let o={ctx:a,current:null,token:null,hasCatch:!0,pending:Ke,then:Je,catch:ze,value:9,error:16};_e(y=a[0],o);let w=a[1].length==0&&De();return{c(){Se(e.$$.fragment),s=I(),t=_("div"),l=_("h1"),r=E("Rewards"),n=I(),m=_("div"),p=_("div"),o.block.c(),b=I(),w&&w.c(),this.h()},l(c){je(e.$$.fragment,c),s=V(c),t=v(c,"DIV",{class:!0});var h=g(t);l=v(h,"H1",{class:!0});var u=g(l);r=D(u,"Rewards"),u.forEach(d),n=V(h),m=v(h,"DIV",{class:!0});var k=g(m);p=v(k,"DIV",{class:!0});var M=g(p);o.block.l(M),b=V(M),w&&w.l(M),M.forEach(d),k.forEach(d),h.forEach(d),this.h()},h(){f(l,"class","text-2xl font-bold text-gray-900"),f(p,"class","rounded-lg"),f(m,"class","py-6 mb-6"),f(t,"class","max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8")},m(c,h){Ae(e,c,h),P(c,s,h),P(c,t,h),i(t,l),i(l,r),i(t,n),i(t,m),i(m,p),o.block.m(p,o.anchor=null),o.mount=()=>p,o.anchor=b,i(p,b),w&&w.m(p,null),x=!0},p(c,[h]){a=c;const u={};h&4&&(u.show=a[2]),e.$set(u),o.ctx=a,h&1&&y!==(y=a[0])&&_e(y,o)||Le(o,a,h),a[1].length==0?w||(w=De(),w.c(),w.m(p,null)):w&&(w.d(1),w=null)},i(c){x||(Ne(e.$$.fragment,c),x=!0)},o(c){Ye(e.$$.fragment,c),x=!1},d(c){Fe(e,c),c&&d(s),c&&d(t),o.block.d(),o.token=null,o=null,w&&w.d()}}}function Xe(a,e={}){return function(t){return new a(he(H({},t),{props:H(H({},e),t.props)}))}}function et(a,e,s){let t,l,r;U(a,X,o=>s(5,t=o)),U(a,q,o=>s(6,l=o)),U(a,G,o=>s(2,r=o));let n=Promise.resolve([]),m=[];const p=()=>{(!t||t=="")&&G.set(Ge)};async function y(){if(B(G,r=null,r),!t){p();return}B(q,l=await be(),l),s(0,n=Be()),n.then(o=>{s(1,m=o)})}const b=o=>{var w=Ue(o);G.set(Xe($e,{pointCost:w}))};return He(async()=>{let o=localStorage.getItem("authToken");o&&B(X,t=o,t),await y(),X.subscribe(async()=>{await y()})}),[n,m,r,b,o=>b(o)]}class ot extends fe{constructor(e){super();me(this,e,et,We,pe,{})}}export{ot as default};
