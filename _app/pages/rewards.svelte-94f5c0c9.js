var De=Object.defineProperty,Ve=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var ue=(a,e,s)=>e in a?De(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,H=(a,e)=>{for(var s in e||(e={}))Pe.call(e,s)&&ue(a,s,e[s]);if(de)for(var s of de(e))Re.call(e,s)&&ue(a,s,e[s]);return a},fe=(a,e)=>Ve(a,Ce(e));import{S as ye,i as xe,s as ke,e as _,t as E,k as V,c as v,a as g,h as I,d,m as C,b as h,g as P,G as i,H as K,j as Z,I as U,$ as Te,Q as q,F as Me,W as O,T as he,w as Se,x as Le,y as Ne,V as Ye,q as Ae,o as Fe,B as je,v as He,X as Ee,l as me}from"../chunks/vendor-a3aef2e9.js";import{p as $,i as Be,g as Ie,d as qe,m as B,b as J,l as pe,e as Oe}from"../chunks/todoistService-0fe8c541.js";import{M as Ue,T as $e}from"../chunks/TokenCheck-c932f2e1.js";function Ge(a){let e,s,t,l,r,n,m,p,x,b,y,o,w=a[2]()+"",c,f,u,k,M,Y,T,R,G,A,Q,W,S,X,z,ee;return{c(){e=_("div"),s=_("div"),t=_("div"),l=_("h3"),r=E("Redeem Reward"),n=V(),m=_("div"),p=_("p"),x=E(`You have two attempts at rolling the following number on a dice to successfully get your
					reward.`),b=V(),y=_("div"),o=_("h1"),c=E(w),f=V(),u=_("div"),k=_("p"),M=E(`Are you sure you want to redeem this reward? You should redeem this reward regardless of
					the outcome of the dice rolls.`),Y=V(),T=_("div"),R=_("button"),G=E("Redeem (Cost: "),A=E(a[0]),Q=E(")"),W=V(),S=_("button"),X=E("Cancel"),this.h()},l(D){e=v(D,"DIV",{class:!0});var L=g(e);s=v(L,"DIV",{class:!0});var te=g(s);t=v(te,"DIV",{class:!0});var N=g(t);l=v(N,"H3",{class:!0,id:!0});var se=g(l);r=I(se,"Redeem Reward"),se.forEach(d),n=C(N),m=v(N,"DIV",{class:!0});var le=g(m);p=v(le,"P",{class:!0});var ae=g(p);x=I(ae,`You have two attempts at rolling the following number on a dice to successfully get your
					reward.`),ae.forEach(d),le.forEach(d),b=C(N),y=v(N,"DIV",{class:!0});var oe=g(y);o=v(oe,"H1",{class:!0});var re=g(o);c=I(re,w),re.forEach(d),oe.forEach(d),f=C(N),u=v(N,"DIV",{class:!0});var ne=g(u);k=v(ne,"P",{class:!0});var ie=g(k);M=I(ie,`Are you sure you want to redeem this reward? You should redeem this reward regardless of
					the outcome of the dice rolls.`),ie.forEach(d),ne.forEach(d),N.forEach(d),te.forEach(d),L.forEach(d),Y=C(D),T=v(D,"DIV",{class:!0});var F=g(T);R=v(F,"BUTTON",{type:!0,class:!0});var j=g(R);G=I(j,"Redeem (Cost: "),A=I(j,a[0]),Q=I(j,")"),j.forEach(d),W=C(F),S=v(F,"BUTTON",{type:!0,class:!0});var ce=g(S);X=I(ce,"Cancel"),ce.forEach(d),F.forEach(d),this.h()},h(){h(l,"class","text-lg leading-6 font-medium text-gray-900"),h(l,"id","modal-title"),h(p,"class","text-sm text-gray-500"),h(m,"class","mt-2"),h(o,"class","text-lg leading-6 font-medium text-gray-900"),h(y,"class","mx-auto flex-shrink-0 flex content-center items-center justify-center h-12 w-12 rounded-full bg-green-100 m-4"),h(k,"class","text-sm text-gray-500"),h(u,"class","mt-2"),h(t,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),h(s,"class","sm:flex sm:items-start"),h(e,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),h(R,"type","button"),h(R,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"),h(S,"type","button"),h(S,"class","mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"),h(T,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse")},m(D,L){P(D,e,L),i(e,s),i(s,t),i(t,l),i(l,r),i(t,n),i(t,m),i(m,p),i(p,x),i(t,b),i(t,y),i(y,o),i(o,c),i(t,f),i(t,u),i(u,k),i(k,M),P(D,Y,L),P(D,T,L),i(T,R),i(R,G),i(R,A),i(R,Q),i(T,W),i(T,S),i(S,X),z||(ee=[K(R,"click",a[4]),K(S,"click",a[5])],z=!0)},p(D,[L]){L&1&&Z(A,D[0])},i:U,o:U,d(D){D&&d(e),D&&d(Y),D&&d(T),z=!1,Te(ee)}}}function Qe(a,e,s){let t;q(a,$,b=>s(6,t=b));const{close:l}=Me("simple-modal");let{pointCost:r=0}=e;const n=()=>{let b=Math.ceil(1),y=Math.floor(6);return Math.floor(Math.random()*(y-b+1)+b)},m=async()=>{await Be(-r),l(),O($,t=await Ie(),t)},p=()=>m(),x=()=>l();return a.$$set=b=>{"pointCost"in b&&s(0,r=b.pointCost)},[r,l,n,m,p,x]}class We extends ye{constructor(e){super();xe(this,e,Qe,Ge,ke,{pointCost:0})}}function _e(a,e,s){const t=a.slice();return t[10]=e[s],t}function ve(a,e,s){const t=a.slice();return t[13]=e[s],t}function Xe(a){let e,s;return{c(){e=_("p"),s=E("Failed to retrieve rewards!")},l(t){e=v(t,"P",{});var l=g(e);s=I(l,"Failed to retrieve rewards!"),l.forEach(d)},m(t,l){P(t,e,l),i(e,s)},p:U,d(t){t&&d(e)}}}function ze(a){let e,s=a[1],t=[];for(let l=0;l<s.length;l+=1)t[l]=be(_e(a,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=me()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=me()},m(l,r){for(let n=0;n<t.length;n+=1)t[n].m(l,r);P(l,e,r)},p(l,r){if(r&10){s=l[1];let n;for(n=0;n<s.length;n+=1){const m=_e(l,s,n);t[n]?t[n].p(m,r):(t[n]=be(m),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=s.length}},d(l){Ee(t,l),l&&d(e)}}}function ge(a){let e,s=pe[a[13]]+"",t,l;return{c(){e=_("span"),t=E(s),l=E(" LP"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var n=g(e);t=I(n,s),l=I(n," LP"),n.forEach(d),this.h()},h(){h(e,"class","float-right inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2")},m(r,n){P(r,e,n),i(e,t),i(e,l)},p(r,n){n&2&&s!==(s=pe[r[13]]+"")&&Z(t,s)},d(r){r&&d(e)}}}function be(a){let e,s,t,l,r=a[10].content+"",n,m,p,x,b,y=a[10].label_ids,o=[];for(let c=0;c<y.length;c+=1)o[c]=ge(ve(a,y,c));function w(){return a[4](a[10])}return{c(){e=_("div"),s=_("div"),t=_("div"),l=V(),n=E(r),m=V();for(let c=0;c<o.length;c+=1)o[c].c();p=V(),this.h()},l(c){e=v(c,"DIV",{class:!0});var f=g(e);s=v(f,"DIV",{class:!0});var u=g(s);t=v(u,"DIV",{class:!0}),g(t).forEach(d),u.forEach(d),l=C(f),n=I(f,r),m=C(f);for(let k=0;k<o.length;k+=1)o[k].l(f);p=C(f),f.forEach(d),this.h()},h(){h(t,"class","radio-button"),h(s,"class","radio-button-container mr-2"),h(e,"class","task-list-item w-full border-b-2 border-gray-200 px-2 py-3 hover:bg-gray-50")},m(c,f){P(c,e,f),i(e,s),i(s,t),i(e,l),i(e,n),i(e,m);for(let u=0;u<o.length;u+=1)o[u].m(e,null);i(e,p),x||(b=K(e,"click",w),x=!0)},p(c,f){if(a=c,f&2&&r!==(r=a[10].content+"")&&Z(n,r),f&2){y=a[10].label_ids;let u;for(u=0;u<y.length;u+=1){const k=ve(a,y,u);o[u]?o[u].p(k,f):(o[u]=ge(k),o[u].c(),o[u].m(e,p))}for(;u<o.length;u+=1)o[u].d(1);o.length=y.length}},d(c){c&&d(e),Ee(o,c),x=!1,b()}}}function Je(a){let e,s,t;return{c(){e=_("div"),s=_("span"),t=E("Loading tasks..."),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=g(e);s=v(r,"SPAN",{class:!0});var n=g(s);t=I(n,"Loading tasks..."),n.forEach(d),r.forEach(d),this.h()},h(){h(s,"class","text-sm text-gray-300"),h(e,"class","w-full p-2 text-center")},m(l,r){P(l,e,r),i(e,s),i(s,t)},p:U,d(l){l&&d(e)}}}function we(a){let e,s,t;return{c(){e=_("div"),s=_("span"),t=E("You don't have any rewards"),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=g(e);s=v(r,"SPAN",{class:!0});var n=g(s);t=I(n,"You don't have any rewards"),n.forEach(d),r.forEach(d),this.h()},h(){h(s,"class","text-sm text-gray-300"),h(e,"class","w-full p-2 text-center")},m(l,r){P(l,e,r),i(e,s),i(s,t)},d(l){l&&d(e)}}}function Ke(a){let e,s,t,l,r,n,m,p,x,b,y;e=new Ue({props:{show:a[2]}});let o={ctx:a,current:null,token:null,hasCatch:!0,pending:Je,then:ze,catch:Xe,value:9,error:16};he(x=a[0],o);let w=a[1].length==0&&we();return{c(){Se(e.$$.fragment),s=V(),t=_("div"),l=_("h1"),r=E("Rewards"),n=V(),m=_("div"),p=_("div"),o.block.c(),b=V(),w&&w.c(),this.h()},l(c){Le(e.$$.fragment,c),s=C(c),t=v(c,"DIV",{class:!0});var f=g(t);l=v(f,"H1",{class:!0});var u=g(l);r=I(u,"Rewards"),u.forEach(d),n=C(f),m=v(f,"DIV",{class:!0});var k=g(m);p=v(k,"DIV",{class:!0});var M=g(p);o.block.l(M),b=C(M),w&&w.l(M),M.forEach(d),k.forEach(d),f.forEach(d),this.h()},h(){h(l,"class","text-2xl font-bold text-gray-900"),h(p,"class","rounded-lg"),h(m,"class","py-6 mb-6"),h(t,"class","max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8")},m(c,f){Ne(e,c,f),P(c,s,f),P(c,t,f),i(t,l),i(l,r),i(t,n),i(t,m),i(m,p),o.block.m(p,o.anchor=null),o.mount=()=>p,o.anchor=b,i(p,b),w&&w.m(p,null),y=!0},p(c,[f]){a=c;const u={};f&4&&(u.show=a[2]),e.$set(u),o.ctx=a,f&1&&x!==(x=a[0])&&he(x,o)||Ye(o,a,f),a[1].length==0?w||(w=we(),w.c(),w.m(p,null)):w&&(w.d(1),w=null)},i(c){y||(Ae(e.$$.fragment,c),y=!0)},o(c){Fe(e.$$.fragment,c),y=!1},d(c){je(e,c),c&&d(s),c&&d(t),o.block.d(),o.token=null,o=null,w&&w.d()}}}function Ze(a,e={}){return function(t){return new a(fe(H({},t),{props:H(H({},e),t.props)}))}}function et(a,e,s){let t,l,r;q(a,J,o=>s(5,t=o)),q(a,$,o=>s(6,l=o)),q(a,B,o=>s(2,r=o));let n=Promise.resolve([]),m=[];const p=()=>{(!t||t=="")&&B.set($e)};async function x(){if(O(B,r=null,r),!t){p();return}O($,l=await Ie(),l),s(0,n=Oe()),n.then(o=>{s(1,m=o)})}const b=o=>{var w=qe(o);B.set(Ze(We,{pointCost:w}))};return He(async()=>{let o=localStorage.getItem("authToken");o&&O(J,t=o,t),await x(),J.subscribe(async()=>{await x()})}),[n,m,r,b,o=>b(o)]}class ot extends ye{constructor(e){super();xe(this,e,et,Ke,ke,{})}}export{ot as default};
