import{n as t,s as n,J as s}from"./index-026c35aa.js";const e=[];function a(s,a=t){let o;const c=[];function r(t){if(n(s,t)&&(s=t,o)){const t=!e.length;for(let n=0;n<c.length;n+=1){const t=c[n];t[1](),e.push(t,s)}if(t){for(let t=0;t<e.length;t+=2)e[t][0](e[t+1]);e.length=0}}}return{set:r,update:function(t){r(t(s))},subscribe:function(n,e=t){const l=[n,e];return c.push(l),1===c.length&&(o=a(r)||t),n(s),()=>{const t=c.indexOf(l);-1!==t&&c.splice(t,1),0===c.length&&(o(),o=null)}}}}const o=a(0),c=a(""),r=a(null),l=async()=>{let t={headers:{Authorization:`Bearer ${s(c)}`}};const n=await fetch("https://api.todoist.com/rest/v1/tasks?filter=(today%20%7C%20overdue)%20%26%20(%401P%20%7C%20%402P%20%7C%20%403P%20%7C%20%405P)",t);return await n.json()},i=()=>{localStorage.clear()};export{c as a,i as c,l as f,r as m,o as p,a as w};
