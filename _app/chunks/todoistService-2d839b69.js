import{n as t,s as n,I as e}from"./index-eaf194d4.js";const s=[];function o(e,o=t){let a;const r=[];function c(t){if(n(e,t)&&(e=t,a)){const t=!s.length;for(let n=0;n<r.length;n+=1){const t=r[n];t[1](),s.push(t,e)}if(t){for(let t=0;t<s.length;t+=2)s[t][0](s[t+1]);s.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(n,s=t){const l=[n,s];return r.push(l),1===r.length&&(a=o(c)||t),n(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(a(),a=null)}}}}const a=o(""),r=o(null),c=async()=>{let t={headers:{Authorization:`Bearer ${e(a)}`}};const n=await fetch("https://api.todoist.com/rest/v1/tasks?filter=(today%20%7C%20overdue)%20%26%20(%401P%20%7C%20%402P%20%7C%20%403P%20%7C%20%405P)",t);return await n.json()},l=()=>{localStorage.clear()};export{a,l as c,c as f,r as m,o as w};
